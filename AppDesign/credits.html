<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Кредити | Банка</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Mobile frame styles */
        .credits-page .mobile-frame {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 80px;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }
        
        /* Bottom nav animation styles */
        .credits-page .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            transform: translateY(0);
            z-index: 1000;
            background: #fff;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            will-change: transform;
        }
        
        .credits-page .bottom-nav.hide {
            transform: translateY(100%);
        }
        
        /* Scroll to top button */
        .scroll-to-top {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: #4a6cf7;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 999;
            border: none;
        }
        
        .scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .scroll-to-top:hover {
            background: #3a5bd9;
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="credits-page">
    <div class="mobile-frame">
        <header class="page-header">
            <h1 class="page-title">Кредити</h1>
        </header>
        
        <main class="credits-main">
            <div class="credit-score-container">
                <div class="credit-score">
                    <div class="score-label">Кредитен рейтинг</div>
                    <div class="score-content">
                        <div class="score-circle">
                            <div class="score-value">720</div>
                        </div>
                        <div class="score-details">
                            <div class="credits-count">
                                <i class="fas fa-star"></i>
                                <span>12 кредита</span>
                            </div>
                            <div class="score-category good">Добър</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Active Credits Section -->
            <div class="active-credits">
                <h3 class="active-credits-title">Активни Кредити</h3>
                <div class="active-credits-list">
                    <!-- Credit Item 1 -->
                    <a href="credit-details.html?id=1" class="credit-item-link">
                        <div class="credit-item">
                            <h3 class="credit-name">
                                <i class="fas fa-home credit-name-icon"></i>
                                Ипотечен Кредит
                            </h3>
                            <div class="credit-item-content">
                                <div class="credit-info">
                                    <div class="credit-details">
                                        <span class="credit-amount">120 000 лв</span>
                                        <span class="credit-separator">-</span>
                                        <span class="credit-term">остават 15 години</span>
                                    </div>
                                </div>
                            </div>
                            <div class="credit-footer">
                                <div class="credit-progress">
                                    <div class="progress-bar" style="width: 30%;"></div>
                                </div>
                                <div class="next-payment">Следваща вноска: 850 лв</div>
                            </div>
                        </div>
                    </a>
                    <!-- Credit Item 2 -->
                    <a href="credit-details.html?id=2" class="credit-item-link">
                        <div class="credit-item">
                            <h3 class="credit-name">
                                <i class="fas fa-car credit-name-icon"></i>
                                Автокредит
                            </h3>
                            <div class="credit-item-content">
                                <div class="credit-info">
                                    <div class="credit-details">
                                        <span class="credit-amount">35 000 лв</span>
                                        <span class="credit-separator">-</span>
                                        <span class="credit-term">остават 4 години</span>
                                    </div>
                                </div>
                            </div>
                            <div class="credit-footer">
                                <div class="credit-progress">
                                    <div class="progress-bar" style="width: 60%;"></div>
                                </div>
                                <div class="next-payment">Следваща вноска: 520 лв</div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            
            <div class="available-credits-title">Налични Кредити</div>
            <div class="credit-cards-container">
                <!-- 1. Personal Loan -->
                <div class="credit-card credit-card-blue">
                    <h3>Персонален Кредит</h3>
                    <p>Гъвкав кредит за всякакви лични нужди</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 7.9%</span>
                        </div>
                        <button class="apply-btn btn-blue" onclick="window.location.href='credit-offer-details.html?id=1'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 2. Mortgage -->
                <div class="credit-card credit-card-green">
                    <h3>Ипотечен Кредит</h3>
                    <p>За закупуване на имот или рефинансиране</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 3.9%</span>
                        </div>
                        <button class="apply-btn btn-green" onclick="window.location.href='credit-offer-details.html?id=2'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 3. Auto Loan -->
                <div class="credit-card credit-card-purple">
                    <h3>Автокредит</h3>
                    <p>За нов или употребяван автомобил</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 4.9%</span>
                        </div>
                        <button class="apply-btn btn-purple" onclick="window.location.href='credit-offer-details.html?id=3'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 4. Student Loan -->
                <div class="credit-card credit-card-teal">
                    <h3>Студентски Кредит</h3>
                    <p>За покриване на учебни разходи</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 5.9%</span>
                        </div>
                        <button class="apply-btn btn-teal" onclick="window.location.href='credit-offer-details.html?id=4'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 5. Business Loan -->
                <div class="credit-card credit-card-indigo">
                    <h3>Бизнес Кредит</h3>
                    <p>За разширяване на бизнеса</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 6.5%</span>
                        </div>
                        <button class="apply-btn btn-indigo" onclick="window.location.href='credit-offer-details.html?id=5'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 6. Payday Loan -->
                <div class="credit-card credit-card-orange">
                    <h3>Бърз Кредит</h3>
                    <p>Бързо парично решение до заплата</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 9.9%</span>
                        </div>
                        <button class="apply-btn btn-orange" onclick="window.location.href='credit-offer-details.html?id=6'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 7. Home Improvement -->
                <div class="credit-card credit-card-brown">
                    <h3>Кредит за Ремонт</h3>
                    <p>За обновяване на дома ви</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 5.9%</span>
                        </div>
                        <button class="apply-btn btn-brown" onclick="window.location.href='credit-offer-details.html?id=7'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 8. Credit Card -->
                <div class="credit-card credit-card-gold">
                    <h3>Кредитна Карта</h3>
                    <p>Гъвкаво разполагане с пари с до 60 дни без лихва</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишна такса:</p>
                            <span class="interest-rate">20 лв</span>
                        </div>
                        <button class="apply-btn btn-gold" onclick="location.href='credit-card-application.html'">Заяви карта</button>
                    </div>
                </div>

                <!-- 9. Consolidation -->
                <div class="credit-card credit-card-pink">
                    <h3>Обединителен Кредит</h3>
                    <p>Обединете всичките си дългове</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 6.9%</span>
                        </div>
                        <button class="apply-btn btn-pink" onclick="window.location.href='credit-offer-details.html?id=9'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 10. Agricultural -->
                <div class="credit-card credit-card-green-dark">
                    <h3>Земеделски Кредит</h3>
                    <p>За селскостопански дейности</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 4.5%</span>
                        </div>
                        <button class="apply-btn btn-green-dark" onclick="window.location.href='credit-offer-details.html?id=10'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 11. Travel -->
                <div class="credit-card credit-card-cyan">
                    <h3>Пътуване</h3>
                    <p>За вашите мечтани ваканции</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 8.9%</span>
                        </div>
                        <button class="apply-btn btn-cyan" onclick="window.location.href='credit-offer-details.html?id=11'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 12. Wedding -->
                <div class="credit-card credit-card-pink-light">
                    <h3>Сватбен Кредит</h3>
                    <p>За перфектната сватба</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 7.5%</span>
                        </div>
                        <button class="apply-btn btn-pink-light" onclick="window.location.href='credit-offer-details.html?id=12'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 13. Medical -->
                <div class="credit-card credit-card-red">
                    <h3>Медицински Кредит</h3>
                    <p>За здравни грижи и процедури</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 6.0%</span>
                        </div>
                        <button class="apply-btn btn-red" onclick="window.location.href='credit-offer-details.html?id=13'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 14. Green -->
                <div class="credit-card credit-card-emerald">
                    <h3>Екологичен Кредит</h3>
                    <p>За екологични проекти и подобрения</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 3.5%</span>
                        </div>
                        <button class="apply-btn btn-emerald" onclick="window.location.href='credit-offer-details.html?id=14'">Заяви кредит</button>
                    </div>
                </div>

                <!-- 15. Emergency -->
                <div class="credit-card credit-card-orange-dark">
                    <h3>Спешен Кредит</h3>
                    <p>За неочаквани разходи</p>
                    <div class="card-footer">
                        <div>
                            <p>Годишен лихвен процент:</p>
                            <span class="interest-rate">от 10.5%</span>
                        </div>
                        <button class="apply-btn btn-orange-dark" onclick="window.location.href='credit-offer-details.html?id=15'">Заяви кредит</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scroll to Top Button -->
    <button class="scroll-to-top" aria-label="Scroll to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item">
            <span class="nav-icon"><i class="fa-solid fa-home"></i></span>
            <span class="nav-label">Начало</span>
        </a>
        <a href="products.html" class="nav-item">
            <span class="nav-icon"><i class="fa-solid fa-list"></i></span>
            <span class="nav-label">Продукти</span>
        </a>
        <a href="credits.html" class="nav-item active">
            <span class="nav-icon"><i class="fa-solid fa-credit-card"></i></span>
            <span class="nav-label">Кредити</span>
        </a>
        <a href="#" class="nav-item">
            <span class="nav-icon"><i class="fa-solid fa-ellipsis-h"></i></span>
            <span class="nav-label">Повече</span>
        </a>
    </nav>

    <script>
        // Initialize variables
        const mobileFrame = document.querySelector('.mobile-frame');
        const bottomNav = document.querySelector('.bottom-nav');
        const scrollToTopBtn = document.querySelector('.scroll-to-top');
        
        let lastScrollTop = 0;
        let ticking = false;
        const SCROLL_THRESHOLD = 100; // pixels to scroll before hiding nav
        const SCROLL_UP_THRESHOLD = 50; // pixels to scroll up before showing nav
        let lastScrollUpPosition = 0;
        
        // Handle scroll events for bottom nav animation
        function handleScroll() {
            const scrollPosition = mobileFrame.scrollTop;
            const scrollDirection = scrollPosition > lastScrollTop ? 'down' : 'up';
            
            // Show/hide scroll to top button (appears after scrolling 600px)
            if (scrollPosition > 600) {
                scrollToTopBtn.classList.add('visible');
            } else {
                scrollToTopBtn.classList.remove('visible');
            }
            
            // Calculate scroll delta
            const scrollDelta = Math.abs(scrollPosition - lastScrollTop);
            
            // Ignore tiny scrolls (less than 3px) to prevent jitter
            if (scrollDelta < 3) {
                ticking = false;
                return;
            }
            
            // At the top of the page - ensure nav is visible
            if (scrollPosition <= 10) {
                if (bottomNav.classList.contains('hide')) {
                    bottomNav.classList.remove('hide');
                }
                lastScrollUpPosition = 0;
            } 
            // Scrolling down
            else if (scrollDirection === 'down') {
                // Only hide if scrolled past threshold and not already hidden
                if (scrollPosition > SCROLL_THRESHOLD && !bottomNav.classList.contains('hide')) {
                    bottomNav.classList.add('hide');
                }
            } 
            // Scrolling up
            else {
                // Always show when scrolling up
                if (bottomNav.classList.contains('hide')) {
                    bottomNav.classList.remove('hide');
                }
            }
            
            // Update last positions
            lastScrollUpPosition = scrollPosition;
            lastScrollTop = scrollPosition <= 0 ? 0 : scrollPosition;
            ticking = false;
        }
        
        // Use requestAnimationFrame for smoother animations
        function onScroll() {
            if (!ticking) {
                window.requestAnimationFrame(handleScroll);
                ticking = true;
            }
        }
        
        // Enhanced scroll to top function with smoother animation
        function scrollToTop() {
            const start = mobileFrame.scrollTop;
            const startTime = performance.now();
            const duration = 600; // Animation duration in ms
            
            function scrollStep(timestamp) {
                const currentTime = timestamp - startTime;
                const progress = Math.min(currentTime / duration, 1);
                // Ease-in-out function for smoother animation
                const easeInOut = progress < 0.5 
                    ? 2 * progress * progress 
                    : 1 - Math.pow(-2 * progress + 2, 2) / 2;
                
                mobileFrame.scrollTop = start * (1 - easeInOut);
                
                if (currentTime < duration) {
                    window.requestAnimationFrame(scrollStep);
                }
            }
            
            window.requestAnimationFrame(scrollStep);
        }
        
        // Add event listeners
        mobileFrame.addEventListener('scroll', onScroll, { passive: true });
        scrollToTopBtn.addEventListener('click', scrollToTop);
        
        // Initial setup
        document.body.style.overflow = 'hidden';
        mobileFrame.style.overflowY = 'auto';
        handleScroll(); // Initial check
    </script>
</body>
</html>
